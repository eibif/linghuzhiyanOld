spring.application.name=linghuzhiyan
server.port=8080

# Datasource (Docker network names)
spring.datasource.url=jdbc:mysql://mysql:3306/user_service?serverTimezone=UTC&characterEncoding=utf8
spring.datasource.username=root
spring.datasource.password=example
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# MongoDB
spring.data.mongodb.uri=mongodb://root:example@mongo:27017/discussion_service?authSource=admin

# JPA
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.open-in-view=false

# JWT
jwt.tokenHeader=Authorization
jwt.secret=${JWT_SECRET:linghuzhiyan-used-secret-key-must-be-at-least-32-characters-long-for-security}
jwt.expiration=6048000
jwt.tokenHead=Bearer

# Logging
logging.level.org.linghu.mybackend=INFO
logging.level.org.springframework=INFO

# SpringDoc
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.disable-swagger-default-url=true
springdoc.swagger-ui.try-it-out-enabled=true
springdoc.packages-to-scan=org.linghu.mybackend.controller
springdoc.swagger-ui.operations-sorter=method

# MinIO
minio.endpoint=http://minio:9000
minio.accessKey=${MINIO_ROOT_USER:minioadmin}
minio.secretKey=${MINIO_ROOT_PASSWORD:minioadmin}
minio.bucketName=linghuzhiyan

# go-judge评测服务配置
judge.service.url=${JUDGE_SERVICE_URL:http://go-judge:5050}
judge.service.grpc.url=${JUDGE_SERVICE_GRPC_URL:go-judge:5051}
judge.service.timeout=${JUDGE_SERVICE_TIMEOUT:30}
judge.service.maxRetries=${JUDGE_SERVICE_MAX_RETRIES:3}

# Actuator配置
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized
management.endpoint.health.show-components=always
management.health.livenessstate.enabled=true
management.health.readinessstate.enabled=true

# 健康检查端点安全配置
management.endpoints.web.base-path=/actuator
management.endpoint.health.group.liveness.include=livenessState
management.endpoint.health.group.readiness.include=readinessState,db,mongo
